(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(2),l=n.n(s),r=(n(14),n(3)),o=n(4),h=n(6),u=n(5),c=n(7),m=(n(16),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).handleDifficultyChange=function(e){e.persist(),n.setState({numMovesLimit:parseInt(e.target.value,10)})},n.handleStartGame=function(e){e.preventDefault(),n.numTransitions=0;var t=n.state.history[n.state.history.length-1],a=Math.floor(Math.random()*t.length),i=t.map(function(e,t){var n=Object.assign({},e);return n.hasBall=t===a,n});n.setState({history:[i],shellChoice:null})},n.handleTransitionEnd=function(){n.numTransitions++,n.numTransitions%3===0&&n.shuffleShells()},n.shuffleShells=function(){if(!n.isFinished()){var e=n.state,t=e.history,a=e.numMovesLimit,i=n.numMovesDone()===a-1?n.finalShuffle(t[0]):n.generateNewPositions();n.setState({history:t.concat([i])})}},n.state={history:[[{x:150,y:100,hasBall:!1},{x:300,y:100,hasBall:!1},{x:450,y:100,hasBall:!1}]],numMovesLimit:3,shellChoice:null},n.boardWidth=700,n.boardHeight=500,n.numTransitions=0,n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"numMovesDone",value:function(){return this.state.history.length-1}},{key:"isStarted",value:function(){return this.state.history[0].some(function(e){return e.hasBall})}},{key:"isBallVisible",value:function(){return 1===this.state.history.length&&this.isStarted()}},{key:"isShuffling",value:function(){return this.state.history.length>1&&this.numMovesDone()<this.state.numMovesLimit}},{key:"isFinished",value:function(){return this.numMovesDone()===this.state.numMovesLimit}},{key:"generateNewPositions",value:function(){var e=100,t=this.boardWidth,n=this.boardHeight;function a(a){return a.x=Math.floor(Math.random()*(t-e)),a.y=Math.floor(Math.random()*(n-e)),a}function i(t,n){return t.some(function(t){var a=t.x,i=t.y,s=n.x>=a-e&&n.x<=a+e,l=n.y>=i-e&&n.y<=i+e;return s&&l})}return this.state.history[this.state.history.length-1].reduce(function(e,t){for(var n=Object.assign({},t),s=a(n);i(e,s);)s=a(n);return e.push(s),e},[])}},{key:"finalShuffle",value:function(e){var t=e.map(function(e){return e.x});return e.map(function(e){var n=Math.floor(Math.random()*t.length);return e.x=t[n],t.splice(n,1),e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.history,a=t.numMovesLimit,s=t.shellChoice,l=["ball"];this.isBallVisible()&&l.push("ball--start"),s&&s.hasBall&&l.push("ball--win");var r=function(){return i.a.createElement("div",{className:l.join(" "),onAnimationEnd:e.shuffleShells})},o=n[n.length-1].map(function(t,n){return i.a.createElement("button",{key:n,className:"shell",onClick:function(){return e.setState({shellChoice:t})},onTransitionEnd:e.handleTransitionEnd,style:{transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")},disabled:!e.isFinished()},t.hasBall&&i.a.createElement(r,null))});return i.a.createElement("div",{className:"App",style:{width:this.boardWidth}},i.a.createElement("h1",null,"Game of Shells"),i.a.createElement("form",{className:"form",onSubmit:this.handleStartGame},i.a.createElement("div",null,i.a.createElement("button",{type:"submit",className:"form__btn",disabled:this.isStarted()&&this.numMovesDone()<a},"START")),i.a.createElement("div",{className:"form__options"},i.a.createElement("label",{className:"form__label"},i.a.createElement("input",{type:"radio",name:"difficulty",value:"3",onChange:this.handleDifficultyChange,checked:3===a,disabled:this.isShuffling()}),"Beginner"),i.a.createElement("label",{className:"form__label"},i.a.createElement("input",{type:"radio",name:"difficulty",value:"5",onChange:this.handleDifficultyChange,checked:5===a,disabled:this.isShuffling()}),"Intermediate"),i.a.createElement("label",{className:"form__label"},i.a.createElement("input",{type:"radio",name:"difficulty",value:"10",onChange:this.handleDifficultyChange,checked:10===a,disabled:this.isShuffling()}),"Expert"))),i.a.createElement("div",{className:"board",style:{height:this.boardHeight}},i.a.createElement("div",{className:"board__result"},s&&(s.hasBall?"FOUND IT!":"TRY ANOTHER")),o))}}]),t}(a.Component));l.a.render(i.a.createElement(m,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.4cb39440.chunk.js.map